<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../favicon.ico">
        

	<title>Spec - JS Zero</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../theme.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="..">JS Zero</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../examples/">Examples</a>
                    </li>
                
                
                
                    <li >
                        <a href="../faq/">Faq</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">Spec</a>
                    </li>
                
                
                
                    <li >
                        <a href="../type-system/">Type system</a>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                
                    <li >
                        <a rel="next" href="../faq/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../type-system/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                
                
                    <li>
                        <a href="https://github.com/js-zero/docs">
                            
                                <i class="fa fa-github"></i>
                            
                            GitHub
                        </a>
                    </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#specification">Specification</a></li>
        
            <li><a href="#this-is-a-very-rough-draft-please-see-discussion-threads-for-latest-details">This is a very rough draft. Please see discussion threads for latest details.</a></li>
        
            <li><a href="#goals">Goals</a></li>
        
            <li><a href="#anti-goals">Anti-Goals</a></li>
        
            <li><a href="#specific-features">Specific Features</a></li>
        
            <li><a href="#types-and-type-declarations">Types and Type Declarations</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="specification">Specification</h1>
<p>This document specifies exactly what parts of ES6 will be included in the JS Zero subset, as well as type declaration syntax and usage.</p>
<h3 id="this-is-a-very-rough-draft-please-see-discussion-threads-for-latest-details">This is a <em>very</em> rough draft. Please see discussion threads for latest details.</h3>
<h2 id="goals">Goals</h2>
<ul>
<li>Stay close to primitive types</li>
<li>Objects, arrays, functions, strings, numbers, booleans, maps, and sets should cover almost all use cases.</li>
<li>Only require type annotations at <strong>boundaries</strong></li>
<li>Database queries, HTTP requests, etc.</li>
</ul>
<p><a href="http://discuss.js-zero.com/t/a-type-safe-subset-of-es6/13">[Discuss these goals]</a></p>
<h2 id="anti-goals">Anti-Goals</h2>
<p>Here are some things JS Zero is NOT trying to do:</p>
<ul>
<li>Change the existing behavior of JavaScript</li>
<li>Explanation: If something doesn't fit, it should be <em>removed</em> (but never changed)</li>
<li>Force all code to be <a href="http://www.sitepoint.com/functional-programming-pure-functions/">pure</a></li>
<li>Explanation: JavaScript is not designed to be a pure language. Forcing it to be so would not be worth the effort.</li>
<li>Require knowledge of advanced type-theory to effectively use JS Zero</li>
<li>Explanation: JS Zero is designed to be used by the average JavaScript developer.</li>
</ul>
<p><a href="http://discuss.js-zero.com/t/a-type-safe-subset-of-es6/13">[Discuss these anti-goals]</a></p>
<h2 id="specific-features">Specific Features</h2>
<p>(incomplete) This is the subset of features you will be able to write in JavaScript Zero:</p>
<ul>
<li>let, var, const</li>
<li>Basic types (objects, arrays, strings, numbers, booleans)</li>
<li>Functions - anonymous, declarations, arrow</li>
<li>Symbols</li>
<li>Promises</li>
<li>Map / Set</li>
<li>Prototypes</li>
</ul>
<p>These features will be <strong>omitted</strong>:</p>
<ul>
<li>No classes, no keyword <code>new</code></li>
<li>No double equals <code>==</code></li>
</ul>
<p><a href="http://discuss.js-zero.com/t/what-subset-of-features-will-js-zero-support/19">[Discuss this subset of features]</a></p>
<h2 id="types-and-type-declarations">Types and Type Declarations</h2>
<p>Type declarations are written in comments to keep JS Zero ES6-compatible.</p>
<p><a href="http://discuss.js-zero.com/t/integrating-with-other-javascript-code/15/1">[Discuss type declarations]</a></p>
<h3 id="type-aliases">Type Aliases</h3>
<p>To declare a type alias, use the <code>@type</code> declaration. This creates an alias that is no different than the type you set it to.</p>
<pre><code class="javascript">// @type Venue = { name: String, rating: Number }
</code></pre>

<h3 id="assumptions">Assumptions</h3>
<p>When working with IO, many times you will be reading data from some external source. In these cases you don't want JS Zero to attempt (and fail) at determining your types. Instead, you want to use <code>@assume</code> to explicitly declare what types your incoming data will be.</p>
<pre><code class="javascript">// @type Pet = { name: String, happiness: Number }

// @assume fetchPets : (Number) =&gt; Array(Pet)
function fetchPets (minHappiness) {
  return knex.select('*').from('pets').where('happiness', '&gt;', minHappiness)
}
</code></pre>

<h3 id="new-types">New Types</h3>
<p>To declare an entirely new type, use the <code>@newtype</code> declaration. This is useful for creating opaque types when declaring modules (explained in the next section).</p>
<p>For example, here is how you create an opaque type:</p>
<pre><code class="javascript">// @newtype VirtualElement
// @assume React.render : (String, Object) =&gt; VirtualElement
</code></pre>

<p>A new type is only considered equal to itself, even if its structure is the same as another type's structure. For example:</p>
<pre><code class="javascript">// @type Person = { name: String }
// @type Book   = { name: String }

// @newtype Person2 = { name: String }
</code></pre>

<p>Even though <code>Person</code> and <code>Person2</code> are structurally the same, they are not considered equal. In contrast, type <code>Person</code> and <code>Book</code> are both type <strong>aliases</strong>, and thus considered the same type.</p>
<h3 id="module-declarations">Module Declarations</h3>
<p>To safely and effectively use a large library, you or someone else might need to write a larger number of type declarations. You can do so using the <code>@module</code> block comment:</p>
<pre><code class="javascript">/*
@module JQuery 'jquery' {
  @newtype Wrapper = {
    on: (String, DomEventHandler) =&gt; Wrapper,
    show: (String) =&gt; Wrapper,
    hide: (String) =&gt; Wrapper
  }

  @newtype Deferred(value) = {
    then: ((value) =&gt; newValue) =&gt; Deferred(newValue)
  }

  this : (String) =&gt; Wrapper;
}
*/
var $ = require('jquery');
</code></pre>

<p>In the above example, the <code>JQuery</code> part of <code>@module JQuery</code> is the name of the type, while the [optional] <code>'jquery'</code> part is the string name you pass into <code>require</code>.</p>
<p><a href="http://discuss.js-zero.com/t/integrating-with-other-javascript-code/15/1">[Discuss type declarations]</a></p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
